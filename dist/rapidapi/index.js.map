{"version":3,"file":"index.js","sourceRoot":"/","sources":["rapidapi/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { configs } from '@configs/index'\nimport axios, { AxiosRequestConfig } from 'axios'\nimport dayjs from 'dayjs'\n\nimport { OddsApiResponse } from './odd'\nimport { IFixture, ILeague } from './types'\n\nexport const getLeagues = async (): Promise<ILeague[]> => {\n  try {\n    const config: AxiosRequestConfig = {\n      method: 'GET',\n      url: 'https://api-football-v1.p.rapidapi.com/v3/leagues',\n      params: {\n        current: true,\n      },\n      headers: {\n        'X-RapidAPI-Key': configs.rapidApiKey,\n        'X-RapidAPI-Host': configs.rapidApiHost,\n      },\n    }\n    const response = await axios(config)\n      .then((resp) => resp?.data?.response)\n      .catch(() => [])\n\n    return response\n  } catch (error) {\n    return []\n  }\n}\nexport async function getUpcomingFixtures(date: Date): Promise<IFixture[]> {\n  try {\n    const config: AxiosRequestConfig = {\n      method: 'GET',\n      url: 'https://api-football-v1.p.rapidapi.com/v3/fixtures',\n      headers: {\n        'X-RapidAPI-Key': configs.rapidApiKey,\n        'X-RapidAPI-Host': configs.rapidApiHost,\n      },\n      params: {\n        date: dayjs(date).format('YYYY-MM-DD'),\n      },\n    }\n    const response = await axios(config)\n      .then((resp) => {\n        return resp?.data?.response\n      })\n      .catch(() => [])\n    return response\n  } catch (error) {\n    return []\n  }\n}\nexport async function getFixtures(fixturesId: string[]): Promise<IFixture[]> {\n  try {\n    const config: AxiosRequestConfig = {\n      method: 'GET',\n      url: 'https://api-football-v1.p.rapidapi.com/v3/fixtures',\n      headers: {\n        'X-RapidAPI-Key': configs.rapidApiKey,\n        'X-RapidAPI-Host': configs.rapidApiHost,\n      },\n      params: {\n        ids: fixturesId.join('-'),\n      },\n    }\n    const response = await axios(config)\n      .then((resp) => resp?.data?.response)\n      .catch(() => [])\n    return response\n  } catch (error) {\n    return []\n  }\n}\n\nexport async function getDateOdds(date: Date, page: number = 1, bookmaker: number): Promise<OddsApiResponse> {\n  try {\n    const config: AxiosRequestConfig = {\n      method: 'GET',\n      url: 'https://api-football-v1.p.rapidapi.com/v3/odds',\n      headers: {\n        'X-RapidAPI-Key': configs.rapidApiKey,\n        'X-RapidAPI-Host': configs.rapidApiHost,\n      },\n      params: { date: dayjs(date).format('YYYY-MM-DD'), bookmaker, page },\n    }\n    const odds = await axios(config)\n      .then((resp) => {\n        return <OddsApiResponse>{\n          odds: resp?.data?.response,\n          hasNext: resp?.data?.paging?.current == resp?.data?.paging?.total,\n          page: resp?.data?.paging?.current,\n          total: resp?.data?.paging?.total,\n        }\n      })\n      ?.catch(() => <OddsApiResponse>{ hasNext: false, page: 1, odds: [], total: 0 })\n    return odds\n  } catch (error) {\n    return {\n      hasNext: false,\n      page: 1,\n      odds: [],\n      total: 0,\n    }\n  }\n}\n"]}